var heroes = [{
    alias: "Iron Man",
    name: "Anthony Edward 'Tony' Stark",
    powers: "Tony has a genius level intellect that allows him to invent a wide range of sophisticated devices, specializing in advanced weapons and armor. He possesses a keen business mind.",
    video: "assets/media/video/ironman1.mp4"
}, {
    alias: "Captain America",
    name: "Steven 'Steve' Rogers",
    powers: "Captain America represented the pinnacle of human physical perfection. He experienced a time when he was augmented to superhuman levels, but generally performed just below superhuman levels for most of his career. Captain America had a very high intelligence as well as agility, strength, speed, endurance, and reaction time superior to any Olympic athlete who ever competed. The Super-Soldier formula that he had metabolized had enhanced all of his bodily functions to the peak of human efficiency. Most notably, his body eliminates the excessive build-up of fatigue-producing poisons in his muscles, granting him phenomenal endurance.",
    video: "assets/media/video/america1.mp4"
}, {
    alias: "Hulk",
    name: "Robert Bruce Banner",
    powers: "The Hulk possesses an incredible level of superhuman physical ability. His capacity for physical strength is potentially limitless due to the fact that the Hulk's strength increases proportionally with his level of great emotional stress, anger in particular. The Hulk uses his superhumanly strong leg muscles to leap great distances. The Hulk has been known to cover hundreds of miles in a single bound and once leaped almost into orbit around the Earth. The Hulk can also use his superhumanly leg muscles to run at super speeds, although his legs have limitless strength he does not have limitless speed and once he reaches a certain speed his legs become too strong and destroy the ground giving him no friction to run on, therefore he jumps to travel. The Hulk can slam his hands together creating a shock wave, this shock wave can deafen people, send objects flying and extinguish fires. His thunderclap has been compared to hurricanes and sonic booms. The Hulk has shown a high resistance to physical damage nearly regardless of the cause, and has also shown resistance to extreme temperatures, mind control, nuclear explosions, poisons, and all diseases. In addition to the regeneration of limbs, vital organs, and damaged or destroyed areas of tissue at an amazing rate. The Hulk also has superhuman endurance.The Hulk's body also has a gland that makes an 'oxygenated per fluorocarbon emulsion', which creates pressure in the Hulk's lungs and effectively lets him breathe underwater and move quickly between varying depths without concerns about decompression or nitrogen narcosis.",
    video: "assets/media/video/hulk1.mp4"
}, {
    alias: "Thor",
    name: "Thor Odinson",
    powers: "As the son of Odin and Gaea, Thor's strength, endurance and resistance to injury are greater than the vast majority of his superhuman race. He is extremely long-lived (though not completely immune to aging), immune to conventional disease and highly resistant to injury. His flesh and bones are several times denser than a human's.As Lord of Asgard, Thor possessed the Odinforce, which enabled him to tap into the near-infinite resources of cosmic and mystical energies, enhancing all of his abilities. With the vast magical power of the Odinforce, Thor was even able to dent Captain Americaâ€™s virtually indestructible shield with Mjolnir.Thor complete powers, Click here for complete list of Thor's powers",
    video: "assets/media/video/thor1.mp4"
}, {
    alias: "Black Widow",
    name: "Natasha Romanoff",
    powers: "Natasha Romanoff is one of the most talented spies and lethal assassins in the world, being said by her instructor Madame B. to be the best student in the Red Room, never failing a single test. Both the KGB and S.H.I.E.L.D. considered her as one of their most dangerous operatives. Highly skilled in martial arts and hand to hand combat, she also possesses computer hacking skills and training in psychology. Romanoff's extraordinary skill-set has made her a core member of the Avengers, despite not being applied to the initiative.",
    video: "assets/media/video/blackwidow1.mp4"
}, {
    alias: "Hawkeye",
    name: "Clint Barton",
    powers: "Clint Barton's main ability is his extraordinary talent in marksmanship, with a particular speciality in archery. His unique skills have made him a core member of the Avengers, despite not being applied to the initiative, and one of S.H.I.E.L.D.'s best agents prior to the fall of the agency. He's considered to be an expert marksman and acrobat, capable of competing against with superhuman powers with his wits and ability to adapt to various environments.",
    video: "assets/media/video/hawkeye1.mp4"
}, {
    alias: "War Machine",
    name: "James Rupert Rhodes",
    powers: "Rhodes served several tours in Southeast Asia, studying while in the service to become an aviation engineer. He is a skilled helicopter pilot and is capable of maneuvering most if not all Stark-designed armors. Rhodes military training made him a very skilled hand to hand combatant. Aside from his armor's weaponry, he is a very good marksman. With intense military training, he can survive explosions and blasts.",
    video: "assets/media/video/warmachine1.mp4"
}, {
    alias: "Ant Man",
    name: "Scott Lang",
    powers: "Using a gaseous form of 'Pym particles' kept in a compartment in his belt, Ant-Man had the power to shrink himself (and other people and objects along with himself) to the size of an ant and return to normal. Over time, he has acquired the ability to change size at will. His cybernetic helmet allows rudimentary telepathic communication with insects, and is equipped with sound amplification equipment allowing normal-sized humans to hear him. The helmet also has a retractable plexiglass face shield and a limited air supply. Lang retained his normal strength in ant size. Scott Lang can also shrink to sub-microscopic size, and thereby enter the countless 'subatomic universes'.",
    video: "assets/media/video/antman1.mp4"
}, {
    alias: "Vision",
    name: "Vision",
    powers: "The Solar Jewel on the Vision's forehead absorbs ambient solar energy to provide the needed power for him to function, and he is also capable of discharging this energy as optic beams; with this, he can fire beams of infra-red and microwave radiation. In extreme cases he can discharge this same power through the Solar Jewel itself which amplifies its destructive effects considerably, albeit at the cost of losing most of his resources. The Vision also possesses the ability to manipulate his density, which at its lowest allows flight and a ghostly, phasing intangibility, and at its heaviest provides superhuman strength, immovability, and a diamond-hard near invulnerability. The Vision is capable of reaching a density ten times greater than that of depleted uranium.",
    video: "assets/media/video/vision1.mp4"
}, {
    alias: "Scarlet Witch",
    name: "Wanda Marya Maximoff",
    powers: "The Scarlet Witch possesses the mutant power of affecting probability fields. By a combination of gestures and mental concentration, she creates a hex-sphere, a finite pocket of reality-disrupting quasi-psionic force, which upon reaching its intended target, causes disturbance in the molecular-level probability field surrounding the target. Thus, unlikely phenomena will occur. Among the many phenomena she is able to cause are: the sudden melting of gun barrels, the spontaneous combustion of any flammable object, the rapid rust or decay of various organic and inorganic materials, the poltergeist-like deflection of an object in flight, the sudden evacuation of air from a given volume, the disruption of energy transmissions and fields, and so on. These phenomena occur practically instantaneously after the completion of her hex. Her range of hex-casting is limited by her line of sight.",
    video: "assets/media/video/scarletwitch1.mp4"
}, {
    alias: "Doctor Strange",
    name: "Stephen Vincent Strange",
    powers: "Master of the Mystic Arts, Doctor Strange is one of the most powerful sorcerers in the world. Dr. Strange uses mystical energy invoked upon by spells/incantations or by the power of divine beings to manipulate forces of the universe including projection of mystic energy as bolts, slashes, binds, shields, or a scattered array of energy appearing like electricity, manipulating matter and various energies (physical or spiritual) even transmutation of matter, controlling the elements, opening or sealing mystical portals to other realms, teleportation or dimensional travel, reality warping and control over dimension, seeing through or casting illusions, invisibility and intangibility through astral projection, vast mental powers such as telepathy and telekinesis, communication with the dead and spiritual entities, seeing the future or past, manipulating dreams, removing spirits or placing them back into bodies, summoning supernatural beings, or using the powers of supernatural items.",
    video: "assets/media/video/doctorstrange1.mp4"
}, {
    alias: "Spider-Man",
    name: "Peter Benjamin Parker",
    powers: "Spider-Man possesses the proportionate powers of a spider, granted to him from an irradiated Common House Spider (Achaearanea tepidariorum) which bit Peter Parker that was apparently already mutated from prior exposure to certain frequencies of radiation and received a final, lethal dose during Parker's attendance of the exhibition. The radioactive, complex mutagenic enzymes in the spider's blood that were transferred at the time of the bite triggered numerous body-wide mutagenic changes within Parker, granting him superhuman strength, speed, toughened flesh, and numerous arachnid-like abilities. Like many superhuman powers, the effectiveness of Spider-Man's abilities varies based on the author and the needs of the story.",
    video: "assets/media/video/spiderman1.mp4"
}];
for (var i = 0; i < heroes.length; i++) {
    var start = $("<div class='panel panel-default'><div class='panel-heading'><h4 class='panel-title'><h4 data-toggle='collapse' data-parent='#accordion' href='#collapse" + [i] + "'>" + heroes[i].alias + "</h4></h4></div><div id='collapse" + [i] + "' class='panel-collapse collapse'><div class='panel-body' id='info" + [i] + "'><section><strong><h5>Name:</strong> " + heroes[i].name + "</h5><strong><h5>Powers: </strong>" + heroes[i].powers + "</h5><video height='300px' muted loop controls='controls' preload='none' class='bgvid'><source src='" + heroes[i].video + "' type='video/mp4'></video></section></div></div></div>");
    $("#accordion").append(start);

} // closes for loop for heroes

// Initialize Firebase
var config = {
    apiKey: "AIzaSyAXUwZuSaugpVDjGxX2_1z0GkYAZTd4JO0",
    authDomain: "herobase-b5dcf.firebaseapp.com",
    databaseURL: "https://herobase-b5dcf.firebaseio.com",
    storageBucket: "herobase-b5dcf.appspot.com",
    messagingSenderId: "580760766893"
};
firebase.initializeApp(config);

var database = firebase.database();

$("#submit_hero").on("click", function(event) {
    event.preventDefault();

    var heroId = $("#alias").val().trim();
    var heroName = $("#realName").val().trim();
    var heroPowers = $("#powers").val().trim();
    var heroFootage = $("#footage").val().trim();

    var tempHero = {
        alias: heroId,
        realName: heroName,
        powers: heroPowers,
        footage: heroFootage
    }

    database.ref().push(tempHero);

    $("#alias").val("");
    $("#realName").val("");
    $("#powers").val("");
    $("#footage").val("");

    return false;
});

database.ref().on("child_added", function(childSnapshot, prevChildKey) {

    var heroId = childSnapshot.val().alias;
    var heroName = childSnapshot.val().realName;
    var heroPowers = childSnapshot.val().powers;
    var heroFootage = childSnapshot.val().footage;

    var heroNew = {
        alias: heroId,
        name: heroName,
        powers: heroPowers,
        video: heroFootage
    }
    heroes.push(heroNew);

    var start = $("<div class='panel panel-default'><div class='panel-heading'><h4 class='panel-title'><h4 data-toggle='collapse' data-parent='#accordion' href='#collapse" + heroes.length + "'>" + heroId + "</h4></h4></div><div id='collapse" + heroes.length + "' class='panel-collapse collapse'><div class='panel-body'><section><strong><h5>Name:</strong> " + heroName + "</h5><strong><h5>Powers: </strong>" + heroPowers + "</h5><video height='300px' muted loop controls='controls' preload='none'  class='bgvid'><source src='" + heroFootage + "' type='video/mp4'></video></section></div></div></div>");
    $("#accordion").append(start);
});
